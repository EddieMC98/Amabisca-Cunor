<div class="col-md-12">
    <toaster-container [toasterconfig]="config"></toaster-container>
        <nb-card>
        <nb-card-header>
            Registro de Pruebas de Serología Rápida <br>
        </nb-card-header>
        <nb-card-body>
            <div class="row">
                <div class="col-sm-3">
                    <div class="form-group"> 
                        <label for="fec_donacion" class="col-sm-12 control-label">Fecha de Registro:</label> 
                        <div class="col-sm-12 input-group input-group-sm"> 
                            <input class="form-control" placeholder="dd/mm/yyyy" format="dd/MM/yyyy" name="fec_creacion" [(ngModel)]="fec_creacion" ngbDatepicker #d="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="btn btn-sm btn-outline-secondary" (click)="d.toggle()" type="button">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group col-md-4"> 
                    <label for="estado" class="col-sm-12 control-label">Servicio:</label> 
                    <div class="input-group input-group-sm">
                        <select class="form-control ctrl-lst" id="cod_servicio" name="cod_servicio" [(ngModel)]="item.cod_servicio">
                            <option *ngFor="let item2 of lstTipoServicio" value= {{item2.cod_servicio}}>{{item2.nombre}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-md-4"> 
                        <label for="estado" class="col-sm-12 control-label">Estado:</label> 
                        <div class="col-sm-12"> 
                            <div class="input-group input-group-sm">
                                <select class="form-control ctrl-lst" id="estado" name="estado" [(ngModel)]="item.estado">
                                        <option value="0">Deshabilitado</option>
                                        <option value="1">Habilitado</option>
                                </select>
                            </div>
                        </div>
                    </div>

                <div class="form-group col-md-12">
                    <div class="col-md-12">
                        <legend>Pruebas de serología</legend>
                        <table class="table table-bordered table-sm">
                            <thead>
                                <tr>
                                    <th>Prueba de Serología</th>
                                    <th>Cantidad</th>
                                    <th>Resultado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let itmTipo of item.det_prueba_serologia; let i2 = index">
                                    <td>
                                        {{itmTipo.nom_serologia}}
                                    </td>
                                    <td>
                                        <div class="col-sm-12 input-group input-group-sm"> 
                                            <input class="form-control" [(ngModel)]="item.det_prueba_serologia[i2].cantidad">
                                        </div>
                                    </td>
                                    <td>
                                        <select class="form-control" [(ngModel)]="item.det_prueba_serologia[i2].cod_tipo_res_serologia">
                                            <option *ngFor="let item2 of lstTipoResSerologia" value= {{item2.cod_tipo_res_serologia}}>{{item2.nombre}}</option>
                                        </select>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </nb-card-body>
        <nb-card-footer>
            <button class="btn btn-sm btn-primary" (click)="guardar()">Guardar</button>
            <button class="btn btn-sm btn-danger" (click)="closeModal()">Cancelar</button>
        </nb-card-footer>
    </nb-card>
</div>